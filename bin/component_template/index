#!/usr/bin/env node
// @ts-nocheck
'use strict';

const {
	action,
	bot,
	bootstrap
} = require("../../component");

const nlp = require('../../nlp');

// Create a new bot (../../component/bot.js)
const component = bot(
	require("./responses.json"),
	{
		// A custom action example:
		action_name: (msg, state, responses, send, route) => {
			// Do some stuff with msg then maybe wait for an
			// API call or asynchronous operation... then call send.
			send(
				// Next action name:
				"action_name",
				// Response text. These are pulled from ./responses.json
				responses.random().render({ /* context for rendering variables within text strings */ })
			);
		},

		// Example predefined actions (../../component/actions.js):
		index: action.default("phonenumber"),
		phonenumber: action.bot("phonenumber", context => "reminder"),
		reminder: action.bot("reminder", () => "index")
	});

// Hooks our bot into the appropriate IO
// Terminal: command-prompt style chat
// Server: Runs as a forked process
bootstrap(component);
